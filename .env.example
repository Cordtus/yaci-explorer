# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=foobar
POSTGRES_DB=yaci
POSTGRES_PORT=5432

# PostgREST Configuration
PGRST_DB_SCHEMA=api
POSTGREST_PORT=3000

# Explorer Frontend API URL
# For development with direct PostgREST access: http://localhost:3000
# For production with reverse proxy (Caddy/nginx): /api (relative path - RECOMMENDED)
# The relative path works with any protocol/domain through your reverse proxy
VITE_POSTGREST_URL=/api

# Frontend configuration overrides (optional)
VITE_QUERY_STALE_MS=10000
VITE_QUERY_GC_MS=300000
VITE_TX_PAGE_SIZE=20
VITE_SEARCH_ADDRESS_LIMIT=20
VITE_SEARCH_AUTO_NAVIGATE_SINGLE=true
VITE_ANALYTICS_VOLUME_HOURS=24
VITE_ANALYTICS_VOLUME_REFRESH_MS=60000
VITE_ANALYTICS_MESSAGE_SAMPLE_LIMIT=10000
VITE_ANALYTICS_MESSAGE_TOPN=10
VITE_ANALYTICS_MESSAGE_REFRESH_MS=60000
VITE_ANALYTICS_BLOCK_INTERVAL_LOOKBACK=100
VITE_ANALYTICS_BLOCK_INTERVAL_REFRESH_MS=30000
VITE_ANALYTICS_BLOCK_INTERVAL_MAX_SECONDS=100
VITE_ANALYTICS_NETWORK_BLOCK_WINDOW=100
VITE_ANALYTICS_NETWORK_TX_WINDOW=1000
VITE_ANALYTICS_NETWORK_MSG_WINDOW=2000
VITE_ANALYTICS_NETWORK_REFRESH_MS=10000
VITE_RESET_NOTICE_ENABLED=true
VITE_RESET_NOTICE_REFETCH_MS=30000
VITE_RESET_NOTICE_HASH_CHECK_HEIGHT=5

# Legacy env vars for docker-compose compatibility
POSTGREST_URL=http://localhost:3000
POSTGREST_PROXY_URI=http://localhost:3000

# Yaci Indexer Configuration
YACI_IMAGE=ghcr.io/cordtus/yaci:main

# Chain to index - REQUIRED!
# Replace with your chain's gRPC endpoint (ex: host.docker.internal:9090)
# For multi-container docker setups use <container-ip>:9090
CHAIN_GRPC_ENDPOINT=host.docker.internal:9090
# Optional Tendermint RPC endpoint for reset guard and tooling
CHAIN_RPC_ENDPOINT=http://host.docker.internal:26657

# Chain REST API endpoint for frontend IBC resolution
# Used by the explorer frontend to query IBC channel information
# Default: http://localhost:1317 for local dev
VITE_CHAIN_REST_ENDPOINT=http://localhost:1317

# Indexer settings
YACI_MAX_CONCURRENCY=100
YACI_LOG_LEVEL=info
YACI_INSECURE=-k  # Use -k for non-TLS gRPC, remove for TLS
YACI_METRICS_PORT=2112

# Chain metadata (optional - will auto-detect if not set)
CHAIN_ID=your-chain-id
CHAIN_NAME=Your Chain Name

# Branding Configuration (Optional)
# Customize the explorer appearance
# VITE_APP_NAME=Your Chain Explorer
# VITE_APP_NAME_SHORT=Explorer
# VITE_LOGO_URL=/path/to/logo.png
# VITE_FAVICON_URL=/path/to/favicon.ico
# VITE_PRIMARY_COLOR=210 40% 98%
# VITE_ACCENT_COLOR=210 40% 96.1%
# VITE_FOOTER_TEXT=Your Chain Explorer
# VITE_LINK_WEBSITE=https://yourchain.com
# VITE_LINK_DOCS=https://docs.yourchain.com
# VITE_LINK_GITHUB=https://github.com/yourchain
# VITE_LINK_DISCORD=https://discord.gg/yourchain
# VITE_LINK_TWITTER=https://twitter.com/yourchain

# Chain reset guard (optional)
ENABLE_CHAIN_RESET_GUARD=false
RESET_GUARD_RPC_ENDPOINT=
RESET_GUARD_DB_URI=
RESET_GUARD_AUTO_TRUNCATE=true

# Explorer UI
EXPLORER_PORT=3001

# Development settings
NODE_ENV=production

# Optional: For local yaci development
# Uncomment and build yaci locally with: docker build -t yaci:local -f docker/Dockerfile .
# YACI_IMAGE=yaci:local
